<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DigitalVault | Store</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Space Grotesk', sans-serif; background-color: #020617; color: #f8fafc; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .active-tab { color: #22d3ee; border-bottom: 2px solid #22d3ee; }
        input, textarea, select { background: rgba(255,255,255,0.05) !important; border: 1px solid rgba(255,255,255,0.1) !important; color: white !important; outline: none; }
        .card-hover:hover { transform: translateY(-5px); transition: 0.3s; border-color: #22d3ee; }
    </style>
</head>
<body class="pb-20">
    <nav class="glass sticky top-0 z-40 mb-8">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-xs font-bold text-slate-400">‚Üê KEMBALI</a>
            <div class="flex gap-6">
                <button onclick="showPage('store')" id="tabStore" class="text-xs font-bold active-tab pb-1">STORE</button>
                <a href="faq.html" class="text-xs font-bold text-slate-400 pb-1">FAQ</a>
                <button onclick="showPage('assets')" id="tabAssets" class="text-xs font-bold text-slate-400 pb-1">RIWAYAT</button>
                <a href="about.html" class="text-xs font-bold text-slate-400 pb-1">ABOUT</a>
            </div>
        </div>
    </nav>

    <div id="pageStore" class="container mx-auto px-6">
        <div class="flex flex-wrap gap-2 mb-8">
            <button onclick="filter('all')" class="glass px-4 py-2 rounded-full text-xs">Semua</button>
            <button onclick="filter('jasa_it')" class="glass px-4 py-2 rounded-full text-xs text-blue-400">Jasa IT</button>
            <button onclick="filter('design')" class="glass px-4 py-2 rounded-full text-xs text-pink-400">Desain</button>
            <button onclick="filter('license')" class="glass px-4 py-2 rounded-full text-xs text-green-400">License</button>
        </div>
        <div id="productGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6"></div>
    </div>

    <div id="pageAssets" class="container mx-auto px-6 hidden">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-cyan-400 uppercase tracking-tighter">Riwayat Pesanan</h2>
            <button onclick="clearAllHistory()" class="text-[10px] text-red-500 font-bold border border-red-500/20 px-3 py-1 rounded-lg">BERSIHKAN</button>
        </div>
        <div class="glass rounded-3xl p-6">
            <table class="w-full text-left text-xs">
                <thead class="text-slate-500 border-b border-white/5 uppercase">
                    <tr><th class="pb-4">Layanan</th><th class="pb-4">Status</th><th class="pb-4 text-right">Aksi</th></tr>
                </thead>
                <tbody id="orderList" class="divide-y divide-white/5"></tbody>
            </table>
        </div>
    </div>

    <div id="modalOrder" class="fixed inset-0 z-50 hidden bg-black/95 backdrop-blur-md overflow-y-auto p-4">
        <div class="max-w-md mx-auto my-10 glass p-8 rounded-[40px] border border-cyan-500/20">
            <h2 id="detailTitle" class="text-2xl font-bold text-cyan-400 mb-2 uppercase"></h2>
            <p id="detailDesc" class="text-slate-400 text-xs mb-6"></p>
            <div class="space-y-4">
                <input type="number" id="orderQty" value="1" class="w-full p-4 rounded-2xl">
                <select id="orderTime" class="w-full p-4 rounded-2xl">
                    <option>Reguler (5-7 Hari)</option>
                    <option>Fast Track (2-3 Hari)</option>
                    <option>Express (24 Jam)</option>
                </select>
                <textarea id="orderNotes" rows="4" placeholder="Brief / Kebutuhan spesifik..." class="w-full p-4 rounded-2xl"></textarea>
                <button onclick="confirmPurchase()" class="w-full bg-cyan-500 text-slate-900 font-bold py-4 rounded-2xl hover:bg-white transition uppercase">Konfirmasi Pembayaran</button>
                <button onclick="closeOrderModal()" class="w-full text-slate-500 text-xs mt-4">BATALKAN</button>
            </div>
        </div>
    </div>

    <script>
        if(localStorage.getItem('isLoggedIn') !== 'true') { window.location.href = 'index.html'; }

        const products = [
            // JASA IT (10)
            { id: 1, cat: 'jasa_it', name: "Web Landing Page", price: "1.5jt", img: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=200", desc: "Landing page modern dengan React/Tailwind." },
            { id: 2, cat: 'jasa_it', name: "E-Commerce System", price: "5jt", img: "https://images.unsplash.com/photo-1557821552-17105176677c?w=200", desc: "Sistem toko online lengkap dengan payment gateway." },
            { id: 3, cat: 'jasa_it', name: "Mobile App Android", price: "8jt", img: "https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=200", desc: "Aplikasi Android/iOS menggunakan Flutter." },
            { id: 4, cat: 'jasa_it', name: "Otomasi Python", price: "800rb", img: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?w=200", desc: "Script Python untuk scraping atau bot." },
            { id: 5, cat: 'jasa_it', name: "Integrasi API", price: "1.2jt", img: "content/API.jpg", desc: "Hubungkan sistem dengan pihak ketiga (Midtrans/Xendit)." },
            { id: 6, cat: 'jasa_it', name: "Security Audit", price: "3jt", img: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=200", desc: "Penetrasi testing dan perbaikan celah keamanan." },
            { id: 7, cat: 'jasa_it', name: "Database Design", price: "1.5jt", img: "https://images.unsplash.com/photo-1544383835-bda2bc66a55d?w=200", desc: "Optimasi skema database SQL/NoSQL." },
            { id: 8, cat: 'jasa_it', name: "UI/UX Maintenance", price: "500rb", img: "content/ui.jpg", desc: "Update tampilan dan perbaikan bug ringan." },
            { id: 9, cat: 'jasa_it', name: "Cloud Migration", price: "4jt", img: "https://images.unsplash.com/photo-1544197150-b99a580bb7a8?w=200", desc: "Pindahan server ke AWS/Google Cloud/Vultr." },
            { id: 10, cat: 'jasa_it', name: "IoT Dashboard", price: "4.5jt", img: "https://images.unsplash.com/photo-1518770660439-4636190af475?w=200", desc: "Monitor sensor real-time via web." },

            // DESIGN (10)
            { id: 11, cat: 'design', name: "Logo Premium", price: "500rb", img: "https://images.unsplash.com/photo-1626785774573-4b799315345d?w=200", desc: "Desain logo filosofis + branding kit." },
            { id: 12, cat: 'design', name: "UI/UX Design App", price: "2.5jt", img: "content/ui.jpg", desc: "High-fidelity design menggunakan Figma." },
            { id: 13, cat: 'design', name: "3D Rendering", price: "1.5jt", img: "https://images.unsplash.com/photo-1614850523296-d8c1af93d400?w=200", desc: "Aset 3D untuk produk atau arsitektur." },
            { id: 14, cat: 'design', name: "Socmed Content", price: "400rb", img: "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=200", desc: "10 Feed + 5 Story Instagram berkualitas." },
            { id: 15, cat: 'design', name: "Video Reel Edit", price: "300rb", img: "content/video.jpg", desc: "Editing video TikTok/Reels profesional." },
            { id: 16, cat: 'design', name: "Motion Graphic", price: "1.2jt", img: "https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=200", desc: "Animasi intro/outro logo kustom." },
            { id: 17, cat: 'design', name: "Digital Illustration", price: "250rb", img: "https://images.unsplash.com/photo-1579783902614-a3fb3927b6a5?w=200", desc: "Ilustrasi wajah atau konsep kustom." },
            { id: 18, cat: 'design', name: "Banner Ads", price: "150rb", img: "https://images.unsplash.com/photo-1551033406-611cf9a28f67?w=200", desc: "Desain iklan digital (FB/Google Ads)." },
            { id: 19, cat: 'design', name: "Startup Pitch Deck", price: "600rb", img: "https://images.unsplash.com/photo-1557804506-669a67965ba0?w=200", desc: "Presentasi profesional untuk investor." },
            { id: 20, cat: 'design', name: "Company Profile", price: "500rb", img: "https://images.unsplash.com/photo-1589829085413-56de8ae18c73?w=200", desc: "Desain profil perusahaan (PDF/Cetak)." },

            // LICENSE (10)
            { id: 21, cat: 'license', name: "Windows 11 Pro", price: "150rb", img: "https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=200", desc: "Lisensi retail original, permanen." },
            { id: 22, cat: 'license', name: "Office 365 1Yr", price: "250rb", img: "https://images.unsplash.com/photo-1563986768609-322da13575f3?w=200", desc: "Akun private dengan OneDrive 1TB." },
            { id: 23, cat: 'license', name: "Adobe CC All App", price: "450rb", img: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=200", desc: "Akses 1 bulan semua aplikasi Adobe." },
            { id: 24, cat: 'license', name: "Canva Pro Life", price: "50rb", img: "https://images.unsplash.com/photo-1622737133809-d95047b9e673?w=200", desc: "Akses Canva Pro seumur hidup." },
            { id: 25, cat: 'license', name: "Spotify Premium", price: "180rb", img: "https://images.unsplash.com/photo-1614680376593-902f74cf0d41?w=200", desc: "1 tahun tanpa iklan, akun resmi." },
            { id: 26, cat: 'license', name: "NordVPN 1Yr", price: "350rb", img: "content/vpn.jpg", desc: "Keamanan VPN premium 1 tahun." },
            { id: 27, cat: 'license', name: "IDM Lifetime", price: "250rb", img: "https://images.unsplash.com/photo-1624969862644-791f3dc98927?w=200", desc: "Lisensi asli IDM seumur hidup." },
            { id: 28, cat: 'license', name: "Chat GPT Plus", price: "120rb", img: "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=200", desc: "Shared account GPT-4 resmi." },
            { id: 29, cat: 'license', name: "Github Copilot", price: "150rb", img: "content/github.jpg", desc: "1 bulan akses asisten koding AI." },
            { id: 30, cat: 'license', name: "Antivirus ESET", price: "100rb", img: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=200", desc: "Lisensi 1 tahun perlindungan maksimal." }
        ];

        let selProd = null;

        function filter(cat) {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = '';
            (cat === 'all' ? products : products.filter(p => p.cat === cat)).forEach(p => {
                grid.innerHTML += `
                <div class="glass p-4 rounded-3xl card-hover">
                    <img src="${p.img}" class="h-28 w-full object-cover rounded-2xl mb-3 transition">
                    <h4 class="font-bold text-[11px] truncate">${p.name}</h4>
                    <div class="flex justify-between items-center mt-3">
                        <span class="text-cyan-400 font-bold text-[10px]">Rp ${p.price}</span>
                        <button onclick="openModal(${p.id})" class="bg-cyan-500 text-slate-900 px-3 py-1.5 rounded-xl text-[9px] font-bold">PESAN</button>
                    </div>
                </div>`;
            });
        }

        function openModal(id) {
            selProd = products.find(p => p.id === id);
            document.getElementById('detailTitle').innerText = selProd.name;
            document.getElementById('detailDesc').innerText = selProd.desc;
            document.getElementById('modalOrder').classList.remove('hidden');
        }

        function closeOrderModal() { document.getElementById('modalOrder').classList.add('hidden'); }

        function confirmPurchase() {
            const notes = document.getElementById('orderNotes').value;
            if(!notes) return alert("Mohon isi brief!");
            const orders = JSON.parse(localStorage.getItem('myOrders')) || [];
            orders.unshift({
                name: selProd.name, 
                notes: notes, 
                qty: document.getElementById('orderQty').value,
                time: document.getElementById('orderTime').value,
                status: 'BERHASIL', 
                date: new Date().toLocaleDateString('id-ID')
            });
            localStorage.setItem('myOrders', JSON.stringify(orders));
            alert("Pesanan Berhasil!");
            showPage('assets');
        }

        function showPage(p) {
            document.getElementById('pageStore').classList.toggle('hidden', p !== 'store');
            document.getElementById('pageAssets').classList.toggle('hidden', p !== 'assets');
            document.getElementById('tabStore').className = `text-xs font-bold ${p==='store'?'active-tab pb-1':'text-slate-400'}`;
            document.getElementById('tabAssets').className = `text-xs font-bold ${p==='assets'?'active-tab pb-1':'text-slate-400'}`;
            if(p === 'assets') renderHistory();
        }

        function renderHistory() {
            const list = document.getElementById('orderList');
            const data = JSON.parse(localStorage.getItem('myOrders')) || [];
            list.innerHTML = data.length ? '' : '<tr><td colspan="3" class="py-10 text-center text-slate-600 italic">Belum ada pesanan</td></tr>';
            data.forEach((o, i) => {
                list.innerHTML += `
                <tr class="border-b border-white/5">
                    <td class="py-4">
                        <p class="font-bold text-white">${o.name}</p>
                        <p class="text-[9px] text-slate-500 truncate w-40">${o.notes}</p>
                    </td>
                    <td><span class="text-[9px] bg-cyan-500/10 text-cyan-400 px-2 py-1 rounded-full font-bold">${o.status}</span></td>
                    <td class="text-right"><button onclick="deleteRow(${i})" class="text-red-500 p-2">üóëÔ∏è</button></td>
                </tr>`;
            });
        }

        function deleteRow(i) {
            let data = JSON.parse(localStorage.getItem('myOrders'));
            data.splice(i, 1);
            localStorage.setItem('myOrders', JSON.stringify(data));
            renderHistory();
        }

        function clearAllHistory() { if(confirm("Hapus semua?")) { localStorage.removeItem('myOrders'); renderHistory(); } }

        function showPage(p) {
            document.getElementById('pageStore').classList.toggle('hidden', p !== 'store');
            document.getElementById('pageAssets').classList.toggle('hidden', p !== 'assets');
            document.getElementById('tabStore').className = `text-xs font-bold ${p==='store'?'active-tab pb-1':'text-slate-400'}`;
            document.getElementById('tabAssets').className = `text-xs font-bold ${p==='assets'?'active-tab pb-1':'text-slate-400'}`;
            
            if(p === 'assets') {
                const list = document.getElementById('orderList');
                const data = JSON.parse(localStorage.getItem('myOrders')) || [];
                list.innerHTML = data.length ? '' : '<tr><td colspan="3" class="py-10 text-center text-slate-600 italic">Belum ada pesanan</td></tr>';
                
                data.forEach((o, i) => {
                    list.innerHTML += `
                    <tr class="border-b border-white/5">
                        <td class="py-4">
                            <p class="font-bold text-white">${o.name}</p>
                            <p class="text-[9px] text-slate-500 truncate w-40">${o.notes}</p>
                        </td>
                        <td><span class="text-[9px] bg-green-500/10 text-green-400 px-2 py-1 rounded-full font-bold">${o.status}</span></td>
                        <td class="text-right">
                            <button onclick="deleteRow(${i})" class="text-red-500 p-2 text-xs font-bold hover:bg-white/5 rounded-lg transition">HAPUS</button>
                        </td>
                    </tr>`;
                });
            }
        }

        function deleteRow(i) {
            if(confirm("Hapus pesanan ini?")) {
                let data = JSON.parse(localStorage.getItem('myOrders'));
                data.splice(i, 1);
                localStorage.setItem('myOrders', JSON.stringify(data));
                showPage('assets');
            }
        }

        function clearAllHistory() { 
            if(confirm("Hapus semua riwayat?")) { 
                localStorage.removeItem('myOrders'); 
                showPage('assets'); 
            } 
        }
        window.onload = () => filter('all');
    </script>
</body>
</html>